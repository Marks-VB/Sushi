<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sushi Amanh√£? üç£</title>
    <!-- Carregamento do Tailwind CSS para estilo e responsividade -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Configura√ß√£o de fonte e cores b√°sicas */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fee7; /* Verde claro/Creme */
            overflow: hidden; /* Evita barras de rolagem ao mover o bot√£o */
            touch-action: manipulation; /* Melhoria de performance em touchscreens */
        }
        /* Classe para o bot√£o "N√£o" que ser√° posicionado de forma absoluta */
        .fugitive-button {
            position: absolute;
            transition: all 0.2s ease-out; /* Transi√ß√£o suave para o movimento */
            will-change: transform, top, left;
        }
    </style>
</head>
<body class="p-4 flex items-center justify-center min-h-screen">

    <div id="container" class="bg-white p-6 md:p-10 rounded-3xl shadow-2xl w-full max-w-sm md:max-w-md text-center">

        <!-- T√≠tulo da Pergunta -->
        <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-8">
            Sushi Amanh√£? üç£
        </h1>

        <!-- √Årea de Mensagens -->
        <div id="messageBox" class="text-lg font-semibold h-8 mb-6 text-gray-600">
            Qual √© a sua decis√£o?
        </div>

        <div class="relative h-48 mb-8" id="buttonArea">
            
            <!-- Bot√£o SIM -->
            <button id="yesButton" onclick="confirmDecision(true)"
                class="absolute top-1/4 left-1/2 -translate-x-1/2 w-4/5 py-3 
                       bg-green-600 hover:bg-green-700 text-white font-bold 
                       rounded-xl shadow-lg transform transition duration-150 ease-in-out 
                       hover:scale-[1.03] active:scale-95 text-xl">
                Sim!
            </button>

            <!-- Bot√£o N√ÉO - O 'Fugitivo' -->
            <button id="noButton" onclick="moveButton()"
                class="fugitive-button top-3/4 left-1/2 -translate-x-1/2 w-3/5 py-2 
                       bg-red-500 hover:bg-red-600 text-white font-semibold 
                       rounded-xl shadow-md transform transition duration-150 ease-in-out 
                       hover:scale-105 text-lg cursor-pointer">
                N√£o
            </button>

        </div>
    </div>

    <script>
        // Vari√°veis globais
        const yesButton = document.getElementById('yesButton');
        const noButton = document.getElementById('noButton');
        const messageBox = document.getElementById('messageBox');
        const buttonArea = document.getElementById('buttonArea');
        let moveCount = 0; // Contador de cliques no 'N√£o'
        const MAX_MOVES = 5; // N√∫mero de cliques para for√ßar o 'Sim'

        // Dimens√µes m√≠nimas e m√°ximas para o movimento do bot√£o
        const PADDING = 20; // Espa√ßamento de seguran√ßa das bordas

        /**
         * Gera um n√∫mero inteiro aleat√≥rio entre min (inclu√≠do) e max (inclu√≠do).
         * @param {number} min 
         * @param {number} max 
         * @returns {number}
         */
        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        /**
         * Move o bot√£o 'N√£o' para uma nova posi√ß√£o aleat√≥ria.
         */
        function moveButton() {
            if (yesButton.disabled) return; // Se a decis√£o j√° foi tomada, n√£o move

            moveCount++;
            messageBox.textContent = `Opa! O bot√£o 'N√£o' tentou fugir... (${moveCount}/${MAX_MOVES} tentativas!)`;

            // 1. Obter limites da √°rea de movimento (buttonArea)
            const bounds = buttonArea.getBoundingClientRect();
            const containerWidth = bounds.width;
            const containerHeight = bounds.height;
            
            // 2. Obter dimens√µes do bot√£o 'N√£o'
            const buttonRect = noButton.getBoundingClientRect();
            const buttonWidth = buttonRect.width;
            const buttonHeight = buttonRect.height;
            
            // 3. Calcular novos top/left em pixels, garantindo que o bot√£o fique vis√≠vel
            // Maximo de Left/Top = Limite do Container - Largura/Altura do Bot√£o - PADDING
            const maxLeft = containerWidth - buttonWidth - PADDING;
            const maxTop = containerHeight - buttonHeight - PADDING;

            // M√≠nimo de Left/Top = PADDING
            const newLeft = getRandomInt(PADDING, maxLeft);
            const newTop = getRandomInt(PADDING, maxTop);
            
            // 4. Aplicar a nova posi√ß√£o
            // O uso de 'px' √© crucial para 'position: absolute'
            noButton.style.left = `${newLeft}px`;
            noButton.style.top = `${newTop}px`;
            noButton.style.transform = 'none'; // Remove a tradu√ß√£o inicial (-translate-x-1/2)

            // 5. Se o usu√°rio for muito persistente, for√ßa o 'Sim' (Sushi)
            if (moveCount >= MAX_MOVES) {
                // Atraso de 200ms para permitir a transi√ß√£o final do movimento
                setTimeout(() => {
                    confirmDecision(true); // <--- Confirma SIM (Sushi)
                }, 200);
            }
        }

        /**
         * Confirma a decis√£o final e desabilita os bot√µes.
         * @param {boolean} isYes Se 'true' a decis√£o √© 'Sim', se 'false' a decis√£o √© 'N√£o'.
         */
        function confirmDecision(isYes) {
            // Desabilita ambos os bot√µes
            yesButton.disabled = true;
            noButton.disabled = true;
            noButton.classList.remove('fugitive-button', 'hover:bg-red-600', 'cursor-pointer');
            
            if (isYes) {
                messageBox.classList.remove('text-gray-600', 'text-red-700');
                messageBox.classList.add('text-green-700');
                
                // Verifica se o SIM veio por persist√™ncia (movimentos no 'N√£o')
                if (moveCount >= MAX_MOVES) {
                    messageBox.textContent = `ü•≥ Voc√™ tentou escapar ${MAX_MOVES} vezes! A persist√™ncia garante: Sushi Confirmado! üç£`;
                } else {
                    messageBox.textContent = "‚úÖ Decis√£o Confirmada! Sushi √© amanh√£! üç£";
                }
                
                yesButton.classList.add('animate-pulse');
            } else {
                messageBox.classList.remove('text-gray-600', 'text-green-700');
                messageBox.classList.add('text-red-700');
                messageBox.textContent = "‚ùå Decis√£o Confirmada! Sem sushi amanh√£. üòî";
                noButton.classList.add('bg-gray-400'); // Mudar cor para indicar que parou
                noButton.style.cssText = ''; // Limpar estilos de movimento
            }

            // Centraliza o bot√£o 'Sim' ou 'N√£o' que foi selecionado
            const finalButton = isYes ? yesButton : noButton;
            finalButton.classList.add('w-full', 'py-4', 'top-1/4', 'left-1/2', '-translate-x-1/2', 'absolute');
            
            // Oculta o bot√£o n√£o-selecionado
            if (isYes) {
                noButton.style.display = 'none';
            } else {
                yesButton.style.display = 'none';
                noButton.style.backgroundColor = 'rgb(156, 163, 175)'; // gray-400
            }

            buttonArea.classList.remove('relative');
            buttonArea.classList.add('h-24');
        }

        // Fun√ß√£o para garantir que os bot√µes comecem nas posi√ß√µes corretas
        function initializeButtonPositions() {
            // Reset de estilos do bot√£o 'N√£o' para a posi√ß√£o inicial (para garantir que -translate-x-1/2 funcione)
            noButton.style.left = '50%';
            noButton.style.top = '75%';
            noButton.style.transform = 'translateX(-50%)';
        }

        // Chamada de inicializa√ß√£o para garantir que o layout √© aplicado corretamente no carregamento
        window.addEventListener('load', initializeButtonPositions);
        window.addEventListener('resize', initializeButtonPositions); // Ajusta no resize do mobile
    </script>
</body>
</html>

