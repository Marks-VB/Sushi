<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sushi Amanh√£? üç£</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Biblioteca de Confetes -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fee7;
            overflow: hidden;
            touch-action: manipulation;
        }
        .fugitive-button {
            position: absolute;
            transition: all 0.15s ease-out; /* Ficou um pouco mais r√°pido para ser mais dif√≠cil */
            will-change: top, left;
            z-index: 50;
        }
    </style>
</head>
<body class="p-4 flex items-center justify-center min-h-screen">

    <div id="container" class="bg-white p-6 md:p-10 rounded-3xl shadow-2xl w-full max-w-sm md:max-w-md text-center relative z-10">

        <h1 class="text-3xl md:text-4xl font-extrabold text-green-700 mb-8">
            Sushi Amanh√£? üç£
        </h1>

        <div id="messageBox" class="text-lg font-semibold min-h-[3rem] mb-6 text-gray-600 flex items-center justify-center">
            Qual √© a sua decis√£o?
        </div>

        <div class="relative h-64 w-full" id="buttonArea">
            
            <!-- Bot√£o SIM -->
            <button id="yesButton" onclick="confirmDecision(true)"
                class="absolute top-1/4 left-1/2 -translate-x-1/2 w-4/5 py-3 
                       bg-green-600 hover:bg-green-700 text-white font-bold 
                       rounded-xl shadow-lg transform transition duration-150 ease-in-out 
                       hover:scale-[1.03] active:scale-95 text-xl z-20">
                Sim!
            </button>

            <!-- Bot√£o N√ÉO (Agora com onmouseover tamb√©m) -->
            <button id="noButton" onclick="moveButton()" onmouseover="moveButton()"
                class="fugitive-button top-3/4 left-1/2 -translate-x-1/2 w-3/5 py-2 
                       bg-red-500 hover:bg-red-600 text-white font-semibold 
                       rounded-xl shadow-md cursor-pointer whitespace-nowrap text-lg">
                N√£o
            </button>

        </div>
    </div>

    <script>
        const yesButton = document.getElementById('yesButton');
        const noButton = document.getElementById('noButton');
        const messageBox = document.getElementById('messageBox');
        const buttonArea = document.getElementById('buttonArea');
        
        let moveCount = 0; 
        const MAX_MOVES = 5; 
        const PADDING = 20;

        // Frases para o bot√£o "N√£o"
        const frasesFuga = [
            "N√£o", 
            "Nem vem!", 
            "Sai fora!", 
            "Hoje n√£o!", 
            "Errou!", 
            "Tenta de novo!",
            "Sem chance!"
        ];

        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function moveButton() {
            if (yesButton.disabled) return;

            moveCount++;
            
            // Muda o texto do bot√£o a cada movimento
            // O operador % (m√≥dulo) faz o √≠ndice voltar ao 0 se passar do tamanho da lista
            noButton.innerText = frasesFuga[moveCount % frasesFuga.length];

            // Atualiza mensagem
            messageBox.textContent = `Tentativa ${moveCount} de ${MAX_MOVES}... O bot√£o n√£o quer deixar!`;

            const bounds = buttonArea.getBoundingClientRect();
            const buttonRect = noButton.getBoundingClientRect();
            
            const maxLeft = bounds.width - buttonRect.width - PADDING;
            const maxTop = bounds.height - buttonRect.height - PADDING;

            const newLeft = getRandomInt(PADDING, maxLeft);
            const newTop = getRandomInt(PADDING, maxTop);
            
            noButton.style.left = `${newLeft}px`;
            noButton.style.top = `${newTop}px`;
            noButton.style.transform = 'none'; 

            // L√≥gica da Persist√™ncia (For√ßa o Sim)
            if (moveCount >= MAX_MOVES) {
                // Remove o evento de mouseover para parar de fugir no √∫ltimo segundo
                noButton.onmouseover = null;
                noButton.onclick = null;
                
                setTimeout(() => {
                    confirmDecision(true); 
                }, 300);
            }
        }

        function confirmDecision(isYes) {
            yesButton.disabled = true;
            noButton.disabled = true;
            
            if (isYes) {
                // Configura√ß√£o visual de sucesso
                messageBox.classList.remove('text-gray-600', 'text-red-700');
                messageBox.classList.add('text-green-700', 'font-bold');
                
                if (moveCount >= MAX_MOVES) {
                    messageBox.innerHTML = `üòì Ufa! Voc√™ insistiu tanto que venceu.<br>üç£ SUSHI CONFIRMADO!`;
                } else {
                    messageBox.textContent = "‚úÖ Decis√£o S√°bia! Sushi Confirmado! üç£";
                }
                
                yesButton.classList.add('animate-pulse', 'scale-110');
                
                // Dispara os confetes!
                dispararConfetes();

            } else {
                // Caso te√≥rico (imposs√≠vel de chegar aqui com a l√≥gica atual, mas mantido por seguran√ßa)
                messageBox.textContent = "‚ùå Sem sushi...";
            }

            // Centraliza o bot√£o vencedor
            yesButton.classList.add('w-full', 'py-4', 'top-1/4', 'left-1/2', '-translate-x-1/2', 'absolute', 'z-50');
            noButton.style.display = 'none';
        }

        function dispararConfetes() {
            // Efeito de explos√£o de confetes
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 100 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);
                // Confetes saindo de dois pontos aleat√≥rios
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function initializeButtonPositions() {
            noButton.style.left = '50%';
            noButton.style.top = '75%';
            noButton.style.transform = 'translateX(-50%)';
        }

        window.addEventListener('load', initializeButtonPositions);
        window.addEventListener('resize', initializeButtonPositions);
    </script>
</body>
</html>

